<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 02: Map Elements & Design | GIS Digital Textbook</title>
    <meta name="description" content="Master the art of cartography. Learn about map elements, visual hierarchy, thematic mapping, and the Rule of 5-7.">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4f46e5;
            --secondary: #64748b;
            --accent: #ec4899;
            --success: #10b981;
            --danger: #ef4444;
            --bg: #f8fafc;
            --card-bg: #ffffff;
            --text: #1e293b;
        }

        .hero-chapter {
            background: linear-gradient(135deg, #312e81 0%, #4f46e5 100%);
            padding: 5rem 2rem;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .hero-chapter::before {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(236, 72, 153, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(79, 70, 229, 0.2) 0%, transparent 40%);
        }

        .chapter-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(4px);
            padding: 0.5rem 1.5rem;
            border-radius: 999px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255,255,255,0.3);
            position: relative;
            z-index: 1;
        }

        h1 { font-size: clamp(2.5rem, 5vw, 4rem); margin-bottom: 1rem; position: relative; z-index: 1; }
        .subtitle { font-size: 1.25rem; opacity: 0.9; max-width: 800px; margin: 0 auto; line-height: 1.6; position: relative; z-index: 1; }

        .layout-grid {
            display: grid;
            grid-template-columns: 1fr 340px;
            gap: 2rem;
            margin-top: 3rem;
        }

        @media (max-width: 1100px) {
            .layout-grid { grid-template-columns: 1fr; }
        }

        /* Sidebar Elements */
        .sidebar-box {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            border-top: 4px solid var(--primary);
        }

        .sidebar-box.bio { border-top-color: var(--accent); }
        .sidebar-box.local { border-top-color: var(--success); }

        .sidebar-box h3 { margin-top: 0; font-size: 1.1rem; color: var(--text); border-bottom: 1px solid #eee; padding-bottom: 0.5rem; margin-bottom: 1rem; }
        
        .bio-img { width: 100%; border-radius: 8px; margin-bottom: 1rem; }

        /* Thematic Map Simulator */
        .color-explorer {
            background: #f1f5f9;
            padding: 2rem;
            border-radius: 16px;
            margin: 2rem 0;
        }

        .swatch-grid {
            display: flex;
            gap: 10px;
            margin: 1.5rem 0;
        }

        .swatch {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            border: 1px solid rgba(0,0,0,0.1);
        }

        /* Quiz Styles */
        .quiz-container {
            background: #fff;
            padding: 2rem;
            border-radius: 16px;
            margin-top: 3rem;
            border: 1px solid #e2e8f0;
        }

        .option {
            background: #f8fafc;
            padding: 1rem;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 0.5rem;
        }
        .option:hover { border-color: var(--primary); }
        .option.correct { border-color: var(--success); background: #ecfdf5; color: #065f46; }
        .option.wrong { border-color: var(--danger); background: #fef2f2; color: #991b1b; }

        /* General UI */
        .card { background: white; padding: 2.5rem; border-radius: 16px; margin-bottom: 2rem; box-shadow: 0 4px 6px rgba(0,0,0,0.02); border: 1px solid #f1f5f9; }
        .callout { padding: 1.5rem; border-radius: 12px; margin-top: 1.5rem; display: flex; gap: 1rem; align-items: start; }
        .callout.info { background: #eff6ff; color: #1e40af; border-left: 5px solid #3b82f6; }
        .callout.warning { background: #fffbeb; color: #92400e; border-left: 5px solid #f59e0b; }

        pre { background: #1e293b; color: #f8fafc; padding: 1rem; border-radius: 8px; overflow-x: auto; }

        /* Interactive Elements */
        .decision-btn {
            padding: 0.75rem 1rem;
            border: 1px solid #cbd5e1;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .decision-btn:hover { border-color: var(--primary); color: var(--primary); }
        .grid-cell {
            height: 40px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8rem;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
    </style>
    <script>
        const dataValues = [2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12];
        const colors = ['#eff3ff', '#bdd7e7', '#6baed6', '#3182bd', '#08519c']; // Blue ramp

        function getColor(val, breaks) {
            for(let i=0; i<breaks.length; i++) {
                if(val <= breaks[i]) return colors[i];
            }
            return colors[4];
        }

        function updateMap(mode) {
            const grid = document.getElementById('grid-map');
            const legend = document.getElementById('map-legend');
            const story = document.getElementById('map-story');
            grid.innerHTML = '';
            legend.innerHTML = '';

            let breaks = [];
            let storyText = "";

            if(mode === 'quantile') {
                breaks = [4, 6, 8, 10, 12]; // Approx for 20 items
                storyText = "\"Quantile ensures every color is used equally. The map looks balanced/varied.\"";
            } else if(mode === 'equal') {
                breaks = [4, 6, 8, 10, 12]; // Same range actually... wait range is 2-12.
                // Let's use different breaks to differentiate.
                // Equal Interval (Range 10 / 5 = 2): 4, 6, 8, 10, 12.
                // Actually Quantile on this uniform dataset looks like Eq Interval.
                // Let's skew the data or breaks.
                // Let's just hardcode "looks".
                breaks = [4, 6, 8, 10, 12];
                storyText = "\"Equal Interval divides the range mathematically. Good for comparing like-areas.\"";
            } else if(mode === 'manual') {
                breaks = [10, 10.5, 11, 11.5, 12]; // High breaks
                // Everything under 10 is bin 0.
                storyText = "\"Optimistic Manual: By setting high break points, we force almost all districts into the lightest 'Safe' color. This is how you hide problems!\"";
            }

            // Render Grid
            dataValues.forEach(val => {
                const cell = document.createElement('div');
                cell.className = 'grid-cell';
                cell.textContent = val + '%';
                
                // Determine color index
                let color = colors[4];
                if(mode === 'manual') {
                    if(val < 9) color = colors[0];
                    else if(val < 10) color = colors[1];
                    else if(val < 11) color = colors[2];
                    else color = colors[4];
                } else {
                     // Simple logic
                     if(val <= 4) color = colors[0];
                     else if(val <= 6) color = colors[1];
                     else if(val <= 8) color = colors[2];
                     else if(val <= 10) color = colors[3];
                     else color = colors[4];
                }
                
                // Override for distinct visual difference simulation
                // Let's just assign colors based on mode logic more directly for effect
                if(mode === 'quantile') {
                    // 0-3, 4-7, 8-11, 12-15, 16-19 indices
                    // We have sorted data, so just map index to color
                }
            });
            
            // Re-doing simple render for robustness
             grid.innerHTML = '';
             dataValues.forEach((val, idx) => {
                const div = document.createElement('div');
                div.className = 'grid-cell';
                div.innerText = val;
                
                let bg = '#ccc';
                if(mode === 'quantile') {
                    // 5 bins, 4 items each
                    if(idx < 4) bg = colors[0];
                    else if(idx < 8) bg = colors[1];
                    else if(idx < 12) bg = colors[2];
                    else if(idx < 16) bg = colors[3];
                    else bg = colors[4];
                } else if (mode === 'equal') {
                    // Range 2-12. Steps of 2. 
                    // 2-4 (light), 4.1-6, 6.1-8, 8.1-10, 10.1-12 (dark)
                    if(val <= 4) bg = colors[0];
                    else if(val <= 6) bg = colors[1];
                    else if(val <= 8) bg = colors[2];
                    else if(val <= 10) bg = colors[3];
                    else bg = colors[4];
                } else {
                    // Manual Optimistic: Hide the problem. Make everything light.
                    // Say "Normal" is up to 10%.
                    if(val <= 9) bg = colors[0];
                    else if(val <= 10) bg = colors[1];
                    else bg = colors[4]; // Only the very worst get dark
                }
                
                div.style.background = bg;
                grid.appendChild(div);
             });
             
             story.textContent = storyText;
        }

        // Init
        window.onload = function() {
            updateMap('quantile');
        };
    </script>
</head>
<body>

    <header class="hero-chapter">
        <div class="container">
            <span class="chapter-badge">Chapter 02</span>
            <h1>Map Elements & Design</h1>
            <p class="subtitle">A map is not just a picture‚Äîit is a sophisticated communication channel. Learn how to design maps that are clear, accurate, and ethical.</p>
        </div>
    </header>
    <!-- STICKY NAVIGATION BAR -->
    <nav class="sticky-chapter-bar">
      <div class="nav-container">
        <div class="nav-left">
          <span class="nav-chapter-num">Chapter 02</span>
        </div>
        <div class="nav-center">
          <span class="nav-current-title">Map Elements & Design</span>
        </div>
        <div class="nav-right">
          <a href="../index.html" class="nav-toc-btn" title="Table of Contents">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>
            <span class="toc-text">TOC</span>
          </a>
        </div>
      </div>
      <div class="nav-progress-bar"></div>
    </nav>


    <main class="container">
        


        <section class="card learning-scaffold" aria-label="Learning scaffold">
            <details class="learning-scaffold-details">
  <summary>
<div class="scaffold-head">
                <h2>At a Glance</h2>
                <div class="scaffold-meta" aria-label="Prerequisites and time estimate">
                    <span class="scaffold-chip"><strong>Prereqs:</strong> Chapter 01</span>
                    <span class="scaffold-chip"><strong>Time:</strong> 25 min read + 25 min practice</span>
                    <span class="scaffold-chip"><strong>Deliverable:</strong> One-page map layout</span>
                </div>
            </div>
  </summary>

            <div class="scaffold-grid">
                <div class="scaffold-card">
                    <h3>Learning outcomes</h3>
                    <ul>
                        <li>Identify the essential elements of a clear map.</li>
                        <li>Choose a color scheme that matches the data and audience.</li>
                        <li>Critique a map for clarity, honesty, and accessibility.</li>
                    </ul>
                </div>

                <div class="scaffold-card">
                    <h3>Key terms</h3>
                    <p>visual hierarchy, legend, symbology, classification, color ramp, accessibility</p>
                </div>
            </div>

            <div class="scaffold-grid">
                <div class="scaffold-card">
                    <h3>Stop &amp; check</h3>
                    <ol class="scaffold-qa">
                        <li>
                            <details>
                                <summary>When is a sequential color ramp appropriate?</summary>
                                <div>
                                    <p><strong>Answer:</strong> For ordered numeric data (low to high).</p>
                                    <p><strong>Why:</strong> Sequential ramps communicate magnitude in one direction.</p>
                                    <p><strong>Common misconception:</strong> Random colors can hide ordering and mislead interpretation.</p>
                                </div>
                            </details>
                        </li>
                        <li>
                            <details>
                                <summary>Why should a map include a data source and date?</summary>
                                <div>
                                    <p><strong>Answer:</strong> To support credibility and correct interpretation.</p>
                                    <p><strong>Why:</strong> Spatial results are time- and source-dependent.</p>
                                    <p><strong>Common misconception:</strong> A nice-looking map is not automatically trustworthy without provenance.</p>
                                </div>
                            </details>
                        </li>
                    </ol>
                </div>

                <div class="scaffold-card">
                    <h3>Try it (5 minutes)</h3>
                    <ol>
                        <li>Find one bad map online and list 3 specific design problems.</li>
                        <li>Rewrite its title and legend text so a non-expert can understand it.</li>
                    </ol>
                </div>
            </div>

            <div class="scaffold-grid">
                <div class="scaffold-card">
                    <h3>Lab (Two Tracks)</h3>
                    <p>Both tracks produce the same deliverable: a single map export (PDF/PNG) plus a 5-bullet design rationale.</p>
                    <div class="scaffold-two-track">
                        <div class="scaffold-track">
                            <h4>Desktop GIS Track (ArcGIS Pro / QGIS)</h4>
                            <p>Make a layout for an index or classification map (NDVI or land cover). Export and include map elements + citations.</p>
                        </div>
                        <div class="scaffold-track">
                            <h4>Remote Sensing Track (Google Earth Engine)</h4>
                            <p>Create a map view (true/false color or NDVI), add a legend and caption text in your report, and export a figure.</p>
                        </div>
                    </div>
                </div>

                <div class="scaffold-card">
                    <h3>Common mistakes</h3>
                    <ul>
                        <li>Using color that implies meaning you do not intend (e.g., red/green without explanation).</li>
                        <li>Missing legend/title/source or using vague titles.</li>
                        <li>Relying on color alone (no labels, patterns, or value ranges).</li>
                    </ul>
                    <p><strong>Further reading:</strong> https://www.ucgis.org/site/gis-t-body-of-knowledge</p>
                </div>
            </div>
        </details></section>


        <div class="layout-grid">
            <div class="content">
                <section class="card">
                    <h2>üì¢ The Cartographic Communication Channel</h2>
                    <p>Cartography is the process of <strong>encoding</strong> geographic reality into an abstract graphic language. The user's job is to <strong>decode</strong> those symbols to build their own mental model of the world.</p>
                    
                    <div class="video-container" style="margin: 2rem 0; position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 12px; box-shadow: var(--shadow-lg);">
                        <iframe 
                            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;"
                            src="https://www.youtube.com/embed/8K0fRogYpK4" 
                            title="The Cartographic Communication Channel" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen>
                        </iframe>
                    </div>

                    <div class="callout info">
                        <strong>The Goal:</strong> Minimal "noise" between the sender (Cartographer) and receiver (Map User). If the user misinterprets your legend, the communication has failed.
                    </div>
                </section>

                <section class="card">
                    <h2>The Essential T.O.L.S. (TALLS)</h2>
                    <p>Every professional map should contain these five key elements. Without them, a map is just an illustration.</p>
                    <ul style="line-height: 2;">
                        <li><strong>T - Title:</strong> Clear, concise, and tells the "What, Where, and When."</li>
                        <li><strong>O - Orientation:</strong> A north arrow or graticule (especially for large scales).</li>
                        <li><strong>L - Legend:</strong> The key that unlocks the meaning of every color and symbol.</li>
                        <li>
                            <strong>S - Scale:</strong> A way to measure distance (Scale Bar is best for digital).
                            <div style="margin: 1rem 0;">
                                <img src="../assets/img/diagrams/map_scale_comparison.png" alt="Map Scale Comparison" style="width: 100%; border-radius: 8px; box-shadow: var(--shadow-sm);">
                                <p style="font-size: 0.8rem; color: var(--secondary); margin-top: 0.2rem;"><em>Visualizing Scale: Large Scale = Small Area (Detailed). Small Scale = Large Area (General).</em></p>
                            </div>
                        </li>
                        <li><strong>S - Source:</strong> Where did the data come from? (e.g., "Source: NOAA").</li>
                    </ul>
                </section>

                <section class="card">
                    <h2>Levels of Measurement</h2>
                    <p>Before choosing a color scheme, you must understand your data's structure. In 1946, psychologist Stanley Smith Stevens defined four levels of measurement that dictate how we can map data:</p>
                    <div style="margin-top: 1.5rem; display: grid; gap: 1rem;">
                        <div style="background: #f1f5f9; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--secondary);">
                            <strong>1. Nominal (Names):</strong> Qualitative data with no order. Used for identity or categorization.
                            <br><em>Examples:</em> Soil types, Place names, Phone numbers (961-8224 is not "more" than 961-8049).
                            <br><em>Map Choice:</em> <strong style="color:var(--accent);">Qualitative colors</strong> (e.g., Land Use).
                        </div>
                        <div style="background: #f1f5f9; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--secondary);">
                            <strong>2. Ordinal (Order):</strong> Data with a clear rank, but unknown intervals between ranks.
                            <br><em>Examples:</em> Race results (1st, 2nd, 3rd), High/Medium/Low, Likert scales.
                            <br><em>Map Choice:</em> <strong style="color:var(--primary);">Sequential colors</strong> or size (e.g., Hazard Risk).
                        </div>
                        <div style="background: #f1f5f9; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--success);">
                            <strong>3. Interval (Differences):</strong> Numeric data where the difference is meaningful, but zero is arbitrary.
                            <br><em>Examples:</em> Temperature in Celsius (0¬∞C is not "no heat"), Time of day.
                            <br><em>Map Choice:</em> <strong style="color:var(--primary);">Diverging</strong> or Sequential colors.
                        </div>
                        <div style="background: #f1f5f9; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--success);">
                            <strong>4. Ratio (True Zero):</strong> Numeric data with a true zero point, allowing multiplication/division.
                            <br><em>Examples:</em> Population density, Distance, Income ($0 means no income).
                            <br><em>Map Choice:</em> <strong style="color:var(--primary);">Sequential colors</strong> or Proportional Symbols.
                        </div>
                    </div>
                </section>

                <section class="card">
                    <h2>Interactive: The Power of Classification</h2>
                    <p>Changing how you group data (Classification) can drastically change the story a map tells. This is often how maps "lie."</p>
                    <p>Below is a grid of 20 districts with unemployment rates ranging from 2% to 12%. Click the buttons to change the classification method.</p>

                    <div id="class-lab" style="background:#f8fafc; padding:1.5rem; border-radius:12px; border:1px solid #e2e8f0;">
                        <div class="map-controls" style="justify-content: flex-start;">
                            <button class="decision-btn" onclick="updateMap('quantile')">Quantile (Equal Count)</button>
                            <button class="decision-btn" onclick="updateMap('equal')">Equal Interval</button>
                            <button class="decision-btn" onclick="updateMap('manual')">"Optimistic" Manual</button>
                        </div>
                        
                        <div id="grid-map" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 4px; margin: 1.5rem 0;">
                            <!-- JS will populate this -->
                        </div>
                        
                        <div id="map-legend" style="display: flex; gap: 1rem; align-items: center; font-size: 0.9rem;">
                            <!-- JS will populate -->
                        </div>

                        <div id="map-story" style="margin-top: 1rem; font-style: italic; color: var(--secondary);"></div>
                    </div>

                    <div class="callout warning">
                        <strong>Critical Thinking:</strong> Notice that the <em>data</em> never changed‚Äîonly the <em>breaks</em> did. If you want to make a place look "good," you can manipulate the breaks. Always check the legend!
                    </div>
                </section>

                <section class="card">
                    <h2>The Psychology of Color</h2>
                    <p>Color is one of the most powerful tools in a cartographer's belt, but it must be used with precision based on your data's level of measurement.</p>
                    
                    <div class="color-explorer">
                        <h3>Sequential (Low to High)</h3>
                        <p>Used for quantitative data that goes in one direction (e.g., Income, Population).</p>
                        <div class="swatch-grid">
                            <div class="swatch" style="background:#f7fbff"></div>
                            <div class="swatch" style="background:#c6dbef"></div>
                            <div class="swatch" style="background:#6baed6"></div>
                            <div class="swatch" style="background:#2171b5"></div>
                            <div class="swatch" style="background:#08306b"></div>
                        </div>

                        <h3>Diverging (Opposite Ends)</h3>
                        <p>Used for data with a meaningful midpoint (e.g., Above/Below Average, Temperature).</p>
                        <div class="swatch-grid">
                            <div class="swatch" style="background:#ca0020"></div>
                            <div class="swatch" style="background:#f4a582"></div>
                            <div class="swatch" style="background:#f7f7f7"></div>
                            <div class="swatch" style="background:#92c5de"></div>
                            <div class="swatch" style="background:#0571b0"></div>
                        </div>

                        <h3>Qualitative (Categories)</h3>
                        <p>Used for categorical data with no order (e.g., Soil Types, Land Use).</p>
                        <div class="swatch-grid">
                            <div class="swatch" style="background:#a6cee3"></div>
                            <div class="swatch" style="background:#1f78b4"></div>
                            <div class="swatch" style="background:#b2df8a"></div>
                            <div class="swatch" style="background:#33a02c"></div>
                            <div class="swatch" style="background:#fb9a99"></div>
                        </div>
                    </div>

                <section class="card">
                    <h2>Common Thematic Map Types</h2>
                    <p>Depending on your data's geometry (points, lines, polygons) and measurement level, you can choose from these standard map types:</p>
                    
                    <div style="display: grid; gap: 2rem; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); margin-top: 1.5rem;">
                        <div>
                            <h4>1. Choropleth Map</h4>
                            <p style="font-size: 0.9rem; color: var(--secondary);">Polygons shaded by value (e.g., Population Density per County). Requires normalized data (rates/ratios), not raw counts.</p>
                            <div style="height: 100px; background: linear-gradient(90deg, #eff3ff 0%, #08519c 100%); border-radius: 8px;"></div>
                        </div>
                        <div>
                            <h4>2. Proportional Symbol</h4>
                            <p style="font-size: 0.9rem; color: var(--secondary);">Circles or squares scaled by magnitude (e.g., City Population). Good for raw counts.</p>
                            <div style="height: 100px; display: flex; align-items: center; justify-content: center; gap: 10px; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px;">
                                <div style="width: 10px; height: 10px; background: var(--accent); border-radius: 50%;"></div>
                                <div style="width: 25px; height: 25px; background: var(--accent); border-radius: 50%;"></div>
                                <div style="width: 45px; height: 45px; background: var(--accent); border-radius: 50%;"></div>
                            </div>
                        </div>
                        <div>
                            <h4>3. Isoline (Contour)</h4>
                            <p style="font-size: 0.9rem; color: var(--secondary);">Continuous lines connecting points of equal value (e.g., Elevation or Temperature). Best for continuous fields.</p>
                            <div style="height: 100px; background: repeating-radial-gradient(#fff, #fff 10px, #94a3b8 11px); border-radius: 8px;"></div>
                        </div>
                        <div>
                            <h4>4. Dot Density</h4>
                            <p style="font-size: 0.9rem; color: var(--secondary);">Dots randomly placed within polygons to show density (e.g., 1 dot = 500 people). Excellent for showing concentration.</p>
                            <div style="height: 100px; background-image: radial-gradient(circle, #333 1px, transparent 1px); background-size: 10px 10px; border-radius: 8px;"></div>
                        </div>
                    </div>
                </section>

                <section class="card">
                    <h2>Summary of Big Ideas</h2>
                    <ul style="line-height: 1.8;">
                        <li><strong>Visual Hierarchy</strong> guides the user's eye to the most important data.</li>
                        <li><strong>TALLS</strong> elements provide the necessary context for map interpretation.</li>
                        <li><strong>Choropleth</strong> maps must be normalized to avoid misleading population-concentration artifacts.</li>
                        <li><strong>Generalization</strong> is the necessary simplification of geography for specific scales.</li>
                    </ul>
                </section>

                <div class="quiz-container">
                    <h2>Chapter 02 Checkpoint</h2>
                    <div class="question">
                        <p><strong>1. Which color scheme would you use to map "Percent Unemployment by County"?</strong></p>
                        <div class="option" onclick="this.classList.add('correct')">Sequential (Light to Dark)</div>
                        <div class="option" onclick="this.classList.add('wrong')">Qualitative (Various Colors)</div>
                    </div>
                    <div class="question">
                        <p><strong>2. What does "TALLS" stand for in map design?</strong></p>
                        <div class="option" onclick="this.classList.add('wrong')">Time, Area, Legend, Land, Scale</div>
                        <div class="option" onclick="this.classList.add('correct')">Title, Author (Source), Legend, Locals (Orientation), Scale</div>
                    </div>
                </div>

                <div class="section-glossary">
                    <h2>üìö Chapter Glossary</h2>
                    <div class="glossary-list">
                        <div class="glossary-item">
                            <span class="glossary-term">Cartography</span>
                            <span class="glossary-def">The science and art of making maps, involving the selection of data, design of symbols, and final layout.</span>
                        </div>
                        <div class="glossary-item">
                            <span class="glossary-term">Choropleth Map</span>
                            <span class="glossary-def">A thematic map where administrative areas (like counties) are shaded in proportion to a statistical variable (e.g., population density).</span>
                        </div>
                        <div class="glossary-item">
                            <span class="glossary-term">Visual Hierarchy</span>
                            <span class="glossary-def">The arrangement of map elements to imply importance, guiding the user's eye to the most critical information first.</span>
                        </div>
                        <div class="glossary-item">
                            <span class="glossary-term">Generalization</span>
                            <span class="glossary-def">The process of simplifying map features (e.g., smoothing a coastline) to make them legible at smaller scales.</span>
                        </div>
                    </div>
                </div>
            </div>

            <aside class="sidebar">
                <div class="box-bio">
                    <img src="../assets/img/people/cynthia_brewer.png" alt="Cynthia Brewer">
                    <div>
                        <h3>Dr. Cynthia Brewer</h3>
                        <p>A Professor of Geography at Penn State University, Dr. Brewer is the creator of <a href="https://sounny.github.io/colorbrewer/" target="_blank" style="color:var(--primary);text-decoration:none;"><strong>ColorBrewer</strong></a>‚Äîthe definitive tool for map color design. Her research on color theory and accessibility has significantly improved the quality and readability of thematic maps globally.</p>
                    </div>
                </div>

                <div class="sidebar-local-global">
                    <h3>üá®üá± Texas Connection</h3>
                    <p><strong>The Texas GLO Archive</strong></p>
                    <p>The Texas General Land Office maintains some of the state's oldest and most historically significant maps. From hand-drawn Spanish land grants to modern digital oil and gas maps, the GLO archives show how map elements like <em>Source</em> and <em>Title</em> have evolved over centuries.</p>
                    <p>Checking these records is crucial for modern property law and resource management.</p>
                    <a href="https://www.glo.texas.gov/history/archives/map-store/index.html" target="_blank" class="btn btn-primary" style="margin-top:1rem; font-size:0.8rem; width:100%; text-align:center;">Visit Map Store</a>
                </div>
            </aside>
        </div>

        <div class="chapter-nav" style="display: flex; justify-content: space-between; margin-top: 4rem; padding-top: 2rem; border-top: 1px solid #ddd;">
          <a href="chapter-01-spatial-data.html" style="text-decoration: none; color: var(--secondary);">
            &larr; Chapter 01: Spatial Data
          </a>
          <a href="chapter-03-projections.html" style="text-decoration: none; color: var(--primary); font-weight: 700;">
            Chapter 03: Projections &rarr;
          </a>
        </div>
    

        

        

        <section class="card bok-alignment" aria-label="Body of Knowledge alignment">
            <h2>BoK Alignment</h2>
            <p>
                Topics in the UCGIS GIS&amp;T Body of Knowledge that support this chapter.
            </p>
            <ul class="bok-topic-list">
                        <li class="bok-topic">
            <span class="bok-code">CV-03</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10775" target="_blank" rel="noopener noreferrer">Map Design Fundamentals</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">CV-04</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10776" target="_blank" rel="noopener noreferrer">Map Design Techniques</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">CV-01-001</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10531" target="_blank" rel="noopener noreferrer">Cartography and Science</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">CV-01-026</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10554" target="_blank" rel="noopener noreferrer">Cartography and Power</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">CV-04-018</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10547" target="_blank" rel="noopener noreferrer">Representing Uncertainty</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">BoK</span>
            <a href="https://gistbok-ltb.ucgis.org/" target="_blank" rel="noopener noreferrer">UCGIS GIS&T Body of Knowledge (Living Textbook)</a>
        </li>
            </ul>
        </section>

</main>

    <footer style="margin-top: 4rem; padding: 3rem 0; background: #f1f5f9; text-align: center;">
        <div class="container">
            <p>&copy; 2026 Dr. Moulay Anwar Sounny-Slitine. All Rights Reserved.</p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #64748b;">
                Made with ‚ù§Ô∏è by <a href="https://sounny.github.io" target="_blank" style="color: #64748b; text-decoration: underline;">Dr. Sounny</a>
            </p>
        </div>
    </footer>

    <!-- DYNAMIC NAV SCRIPT -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const navTitle = document.querySelector('.nav-current-title');
        const defaultTitle = "Map Elements & Design"; // Dynamic default
        const sections = document.querySelectorAll('main h2');
        const navBar = document.querySelector('.sticky-chapter-bar');
        const progressBar = document.querySelector('.nav-progress-bar');
        
        // 1. Scroll Progress Bar
        window.addEventListener('scroll', () => {
          const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
          const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
          const scrolled = (winScroll / height) * 100;
          if (progressBar) progressBar.style.width = scrolled + "%";
          
          if (window.scrollY > 200) {
            navBar.classList.add('is-stuck');
          } else {
            navBar.classList.remove('is-stuck');
          }
        });

        // 2. Section Observer for Dynamic Title
        const observerOptions = {
          root: null,
          rootMargin: '-80px 0px -70% 0px',
          threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const newText = entry.target.innerText;
              if (navTitle.textContent !== newText) {
                  navTitle.style.opacity = 0;
                  setTimeout(() => {
                    navTitle.textContent = newText;
                    navTitle.style.opacity = 1;
                  }, 200);
              }
            }
          });
        }, observerOptions);

        sections.forEach(section => {
          observer.observe(section);
        });
        
        // Reset to default
        window.addEventListener('scroll', () => {
          if (window.scrollY < 150) {
             if (navTitle.textContent !== defaultTitle) {
               navTitle.style.opacity = 0;
               setTimeout(() => {
                 navTitle.textContent = defaultTitle;
                 navTitle.style.opacity = 1;
               }, 200);
             }
          }
        });
      });
    </script>

</body>
</html>
