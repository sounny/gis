<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 14: Vector Spatial Analysis | GIS Digital Textbook</title>
    <meta name="description" content="Master the toolkit of vector analysis. Learn about buffers, overlays (intersect/union), and how proximity analysis solves complex spatial problems.">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #10b981;
            --secondary: #64748b;
            --accent: #f59e0b;
            --success: #10b981;
            --bg: #f8fafc;
        }

        .hero-chapter {
            background: linear-gradient(rgba(4, 120, 87, 0.8), rgba(16, 185, 129, 0.7)), url('../assets/img/hero_chapter14.png');
            background-size: cover;
            background-position: center;
            padding: 5rem 2rem;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .hero-chapter::before {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: radial-gradient(circle at 10% 20%, rgba(255,255,255,0.1) 0%, transparent 40%);
        }

        .chapter-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(4px);
            padding: 0.5rem 1.5rem;
            border-radius: 999px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255,255,255,0.3);
        }

        h1 { font-size: clamp(2.5rem, 5vw, 4rem); margin-bottom: 1rem; color: #ffffff; text-shadow: 0 4px 6px rgba(0,0,0,0.5); }
        .subtitle { font-size: 1.25rem; opacity: 0.9; max-width: 800px; margin: 0 auto; line-height: 1.6; }

        .layout-grid {
            display: grid;
            grid-template-columns: 1fr 340px;
            gap: 2rem;
            margin-top: 3rem;
        }

        @media (max-width: 1100px) {
            .layout-grid { grid-template-columns: 1fr; }
        }

        .sidebar-box {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            border-top: 4px solid var(--primary);
        }
        .sidebar-box.local { border-top-color: var(--accent); }

        .sidebar-box h3 { margin-top: 0; font-size: 1.1rem; border-bottom: 1px solid #eee; padding-bottom: 0.5rem; margin-bottom: 1rem; }
        .bio-img { width: 100%; border-radius: 8px; margin-bottom: 1rem; }

        .card { background: white; padding: 2.5rem; border-radius: 16px; margin-bottom: 2rem; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        
        /* Overlay Viz */
        .overlay-viz {
            height: 300px;
            background: #f1f5f9;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .shape {
            width: 150px;
            height: 150px;
            position: absolute;
            transition: 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            mix-blend-mode: multiply;
        }

        #circleA { border-radius: 50%; background: rgba(59, 130, 246, 0.6); left: 30%; }
        #squareB { background: rgba(239, 68, 68, 0.6); right: 30%; }

        /* Quiz Styles */
        .quiz-container { background: #f1f5f9; padding: 2rem; border-radius: 16px; margin-top: 3rem; }
        .option { background: white; padding: 1rem; border-radius: 8px; border: 2px solid #e2e8f0; cursor: pointer; margin-bottom: 0.75rem; transition: 0.2s; color: #1e293b; }
        .option:hover { border-color: var(--primary); }
        .option.correct { border-color: var(--success); background: #ecfdf5; }
        .option.wrong { border-color: #ef4444; background: #fff1f2; }
    </style>
</head>
<body>

    <header class="hero-chapter">
        <div class="container">
            <span class="chapter-badge">Chapter 14</span>
            <h1>Vector Spatial Analysis</h1>
            <p class="subtitle">Geometric intelligence. Learn how to combine layers through overlays and simulate proximity using buffers to reveal hidden geographic patterns.</p>
        </div>
    </header>
    <!-- STICKY NAVIGATION BAR -->
    <nav class="sticky-chapter-bar">
      <div class="nav-container">
        <div class="nav-left">
          <span class="nav-chapter-num">Chapter 14</span>
        </div>
        <div class="nav-center">
          <span class="nav-current-title">Vector Spatial Analysis</span>
        </div>
        <div class="nav-right">
          <a href="../index.html" class="nav-toc-btn" title="Table of Contents">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>
            <span class="toc-text">TOC</span>
          </a>
        </div>
      </div>
      <div class="nav-progress-bar"></div>
    </nav>


    <main class="container">
        


        <section class="card learning-scaffold" aria-label="Learning scaffold">
            <details class="learning-scaffold-details">
  <summary>
<div class="scaffold-head">
                <h2>At a Glance</h2>
                <div class="scaffold-meta" aria-label="Prerequisites and time estimate">
                    <span class="scaffold-chip"><strong>Prereqs:</strong> Chapters 06, 13</span>
                    <span class="scaffold-chip"><strong>Time:</strong> 30 min read + 30 min practice</span>
                    <span class="scaffold-chip"><strong>Deliverable:</strong> Vector analysis result layer</span>
                </div>
            </div>
  </summary>

            <div class="scaffold-grid">
                <div class="scaffold-card">
                    <h3>Learning outcomes</h3>
                    <ul>
                        <li>Choose the correct vector operation for a question (buffer, overlay, join).</li>
                        <li>Explain how projection/units affect vector measurements.</li>
                        <li>Validate results by checking counts, areas, and obvious edge cases.</li>
                    </ul>
                </div>

                <div class="scaffold-card">
                    <h3>Key terms</h3>
                    <p>buffer, dissolve, intersect, union, spatial join, slivers</p>
                </div>
            </div>

            <div class="scaffold-grid">
                <div class="scaffold-card">
                    <h3>Stop &amp; check</h3>
                    <ol class="scaffold-qa">
                        <li>
                            <details>
                                <summary>Why can buffering in degrees produce nonsense results?</summary>
                                <div>
                                    <p><strong>Answer:</strong> Degrees are angular units and vary in ground distance by latitude.</p>
                                    <p><strong>Why:</strong> Buffer distance needs linear units like meters.</p>
                                    <p><strong>Common misconception:</strong> A buffer of 0.01 degrees is about the same everywhere.</p>
                                </div>
                            </details>
                        </li>
                        <li>
                            <details>
                                <summary>What are slivers after overlay and why do they matter?</summary>
                                <div>
                                    <p><strong>Answer:</strong> Tiny polygons created by boundary mismatch.</p>
                                    <p><strong>Why:</strong> They inflate feature counts and can bias area summaries.</p>
                                    <p><strong>Common misconception:</strong> They are harmless; they can dominate statistics when many exist.</p>
                                </div>
                            </details>
                        </li>
                    </ol>
                </div>

                <div class="scaffold-card">
                    <h3>Try it (5 minutes)</h3>
                    <ol>
                        <li>Pick one question and name the operation: within 500m, overlaps, or closest.</li>
                        <li>Write one sentence explaining your tool choice.</li>
                    </ol>
                </div>
            </div>

            <div class="scaffold-grid">
                <div class="scaffold-card">
                    <h3>Lab (Two Tracks)</h3>
                    <p>Both tracks produce the same deliverable: one derived vector layer plus a short QA checklist.</p>
                    <div class="scaffold-two-track">
                        <div class="scaffold-track">
                            <h4>Desktop GIS Track (ArcGIS Pro / QGIS)</h4>
                            <p>Run one buffer + one overlay (intersect) and report feature counts before/after.</p>
                        </div>
                        <div class="scaffold-track">
                            <h4>Remote Sensing Track (Google Earth Engine)</h4>
                            <p>Create buffers around points/lines (where applicable) and summarize an image statistic inside the buffer. Report results.</p>
                        </div>
                    </div>
                </div>

                <div class="scaffold-card">
                    <h3>Common mistakes</h3>
                    <ul>
                        <li>Forgetting to dissolve buffers when you need a single influence zone.</li>
                        <li>Interpreting overlay without checking attributes and geometry validity.</li>
                        <li>Assuming spatial joins are reversible; direction matters.</li>
                    </ul>
                    <p><strong>Further reading:</strong> https://www.ucgis.org/site/gis-t-body-of-knowledge</p>
                </div>
            </div>
        </details></section>


        <div class="layout-grid">
            <div class="content">
                <section class="card">
                    <h2>üìê The Vector Toolkit</h2>
                    <p>Unlike raster analysis which works with pixels, <strong>Vector Analysis</strong> works with discrete objects: points, lines, and polygons. By analyzing the geometric relationships between these objects, we can answer questions like: <em>"Which houses are in the flood zone?"</em> or <em>"How many customers live within 10 miles of my store?"</em></p>
                </section>

                <section class="card">
                    <h3>‚ö° Proximity Analysis: Buffering</h3>
                    <p>Buffering creates a new polygon at a specified distance around an existing feature. It is used to define "impact zones," "safety buffers," or "service areas."</p>
                    
                    <div class="callout" style="background: #ecfdf5; border-left: 5px solid #10b981; color: #064e3b; padding: 1.5rem; border-radius: 12px; margin-top: 1.5rem;">
                        <strong>Example:</strong> A 100-meter buffer around a river defines a "riparian protection zone" where new building permits are prohibited.
                    </div>

                    <div class="callout warning" style="background: #fef2f2; border-left: 5px solid #ef4444; color: #7f1d1d; padding: 1.5rem; border-radius: 12px; margin-top: 1.5rem;">
                        <strong>Critical GIS: Digital Redlining</strong>
                        <p>In the 20th century, physical maps were used to segregate communities. Today, we can inadvertently recreate these zones with buffers. When a delivery app draws a "Service Area" buffer that stops just short of a low-income neighborhood, it is a modern, algorithmic form of redlining. The boundary seems technical, but the impact is social exclusion.</p>
                    </div>
                </section>

                <section class="card">
                    <h3>üß™ Overlay Operations</h3>
                    <p>Vector overlay is often described as "cookie-cutting" with maps. When we overlay two layers, we create new geometry and combine their attribute tables into one.</p>
                    
                    <div class="overlay-viz">
                        <div class="shape" id="circleA">Input A</div>
                        <div class="shape" id="squareB">Input B</div>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 1rem; justify-content: center;">
                        <button onclick="intersect()" style="padding: 0.5rem 1rem; cursor: pointer;">Intersect (AND)</button>
                        <button onclick="union()" style="padding: 0.5rem 1rem; cursor: pointer;">Union (OR)</button>
                        <button onclick="reset()" style="padding: 0.5rem 1rem; cursor: pointer;">Reset</button>
                    </div>
                </section>

                <section class="card">
                    <h2>Summary of Big Ideas</h2>
                    <ul style="line-height: 1.8;">
                        <li><strong>Buffering</strong> creates zones of influence around features.</li>
                        <li><strong>Clip</strong> extracts data based on a boundary (doesn't combine tables).</li>
                        <li><strong>Intersect</strong> keeps only common areas and combines all data tables.</li>
                        <li><strong>Union</strong> keeps all features from both layers and combines tables.</li>
                    </ul>
                </section>

                <div class="quiz-container">
                    <h2>Chapter 14 Checkpoint</h2>
                    <div class="question">
                        <p><strong>1. To find the area where Forest (Layer A) and Private Land (Layer B) meet, you should use:</strong></p>
                        <div class="option" onclick="this.classList.add('correct')">Intersect</div>
                        <div class="option" onclick="this.classList.add('wrong')">Clip</div>
                    </div>
                    <div class="question">
                        <p><strong>2. What is the First Law of Geography (according to Waldo Tobler)?</strong></p>
                        <div class="option" onclick="this.classList.add('wrong')">The shortest distance between two points is a line.</div>
                        <div class="option" onclick="this.classList.add('correct')">Near things are more related than distant things.</div>
                    </div>
                </div>

                <div class="section-glossary">
                    <h2>üìö Chapter Glossary</h2>
                    <div class="glossary-list">
                        <div class="glossary-item">
                            <span class="glossary-term">Geometric Overlay</span>
                            <span class="glossary-def">The process of superimposing two or more vector datasets to create a new output dataset that contains the geometry and attributes of the inputs (e.g., Intersect, Union).</span>
                        </div>
                        <div class="glossary-item">
                            <span class="glossary-term">Buffer</span>
                            <span class="glossary-def">A zone around a map feature measured in units of distance or time. A buffer is useful for proximity analysis (e.g., finding everything within 1 mile of a school).</span>
                        </div>
                        <div class="glossary-item">
                            <span class="glossary-term">MAUP</span>
                            <span class="glossary-def">Modifiable Areal Unit Problem‚Äîa source of statistical bias that can significantly impact the results of spatial hypothesis tests when point-based measures are aggregated into districts.</span>
                        </div>
                    </div>
                </div>
            </div>

            <aside class="sidebar">
                <div class="box-bio">
                    <img src="../assets/img/people/stan_openshaw.png" alt="Stan Openshaw">
                    <div>
                        <h3>Stan Openshaw</h3>
                        <span class="bio-dates">(1947‚Äì2003)</span>
                        <p>A pioneer in quantitative geography, Openshaw is most famous for his work on the <strong>Modifiable Areal Unit Problem (MAUP)</strong>. He demonstrated that by simply changing the boundaries of districts, one could manipulate statistical results to show almost anything‚Äîa warning that every GIS analyst must heed. <a href="https://journals.sagepub.com/doi/10.1177/23998083221108684" target="_blank" style="color:var(--primary);text-decoration:none;">Read more about his legacy.</a></p>
                    </div>
                </div>

                <div class="sidebar-local-global">
                    <h3>üá®üá± Texas Connection</h3>
                    <p><strong>Gerrymandering in Texas</strong></p>
                    <p>Vector analysis is at the heart of one of Texas's most controversial topics: <strong>Redistricting</strong>. By overlaying voting precinct data (attribute tables) with proposed district boundaries (vector polygons), analysts can calculate the likely outcome of an election before a single vote is cast.</p>
                    <p>Techniques like "packing" and "cracking" are essentially advanced vector overlay and proximity exercises used for political advantage.</p>
                </div>
            </aside>
        </div>

        <div class="chapter-nav" style="display: flex; justify-content: space-between; margin-top: 4rem; padding-top: 2rem; border-top: 1px solid #ddd;">
          <a href="chapter-13-raster-analysis.html" style="text-decoration: none; color: var(--secondary);">&larr; Chapter 13: Raster Analysis</a>
          <a href="chapter-15-spatial-modeling.html" style="text-decoration: none; color: var(--primary); font-weight: 700;">Chapter 15: Spatial Modeling &rarr;</a>
        </div>
    

        

        

        <section class="card bok-alignment" aria-label="Body of Knowledge alignment">
            <h2>BoK Alignment</h2>
            <p>
                Topics in the UCGIS GIS&amp;T Body of Knowledge that support this chapter.
            </p>
            <ul class="bok-topic-list">
                        <li class="bok-topic">
            <span class="bok-code">DM-02-014</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10630" target="_blank" rel="noopener noreferrer">Classic vector data models</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">AM-02-003</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10455" target="_blank" rel="noopener noreferrer">Buffers</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">AM-02-004</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10456" target="_blank" rel="noopener noreferrer">Overlay</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">DM-04-077</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10656" target="_blank" rel="noopener noreferrer">Spatial Joins</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">FC-05-042</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10696" target="_blank" rel="noopener noreferrer">Distance Operations</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">DM-06-086</span>
            <a href="https://gistbok-ltb.ucgis.org/page/34/concept/10661" target="_blank" rel="noopener noreferrer">Vector-to-Raster and Raster-to-Vector Conversions</a>
        </li>
                        <li class="bok-topic">
            <span class="bok-code">BoK</span>
            <a href="https://gistbok-ltb.ucgis.org/" target="_blank" rel="noopener noreferrer">UCGIS GIS&T Body of Knowledge (Living Textbook)</a>
        </li>
            </ul>
        </section>

</main>

    <footer style="margin-top: 4rem; padding: 3rem 0; background: #f1f5f9; text-align: center;">
        <div class="container">
            <p>&copy; 2026 Dr. Moulay Anwar Sounny-Slitine. All Rights Reserved.</p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #64748b;">
                Made with ‚ù§Ô∏è by <a href="https://sounny.github.io" target="_blank" style="color: #64748b; text-decoration: underline;">Dr. Sounny</a>
            </p>
        </div>
    </footer>

    <script>
        const a = document.getElementById('circleA');
        const b = document.getElementById('squareB');

        function intersect() {
            a.style.left = '40%';
            b.style.right = '40%';
            a.style.opacity = '0.4';
            b.style.opacity = '0.4';
        }

        function union() {
            a.style.left = '25%';
            b.style.right = '25%';
            a.style.opacity = '0.8';
            b.style.opacity = '0.8';
        }

        function reset() {
            a.style.left = '30%';
            b.style.right = '30%';
            a.style.opacity = '0.6';
            b.style.opacity = '0.6';
        }
    </script>

    <!-- DYNAMIC NAV SCRIPT -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const navTitle = document.querySelector('.nav-current-title');
        const defaultTitle = "Vector Spatial Analysis"; // Dynamic default
        const sections = document.querySelectorAll('main h2');
        const navBar = document.querySelector('.sticky-chapter-bar');
        const progressBar = document.querySelector('.nav-progress-bar');
        
        // 1. Scroll Progress Bar
        window.addEventListener('scroll', () => {
          const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
          const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
          const scrolled = (winScroll / height) * 100;
          if (progressBar) progressBar.style.width = scrolled + "%";
          
          if (window.scrollY > 200) {
            navBar.classList.add('is-stuck');
          } else {
            navBar.classList.remove('is-stuck');
          }
        });

        // 2. Section Observer for Dynamic Title
        const observerOptions = {
          root: null,
          rootMargin: '-80px 0px -70% 0px',
          threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const newText = entry.target.innerText;
              if (navTitle.textContent !== newText) {
                  navTitle.style.opacity = 0;
                  setTimeout(() => {
                    navTitle.textContent = newText;
                    navTitle.style.opacity = 1;
                  }, 200);
              }
            }
          });
        }, observerOptions);

        sections.forEach(section => {
          observer.observe(section);
        });
        
        // Reset to default
        window.addEventListener('scroll', () => {
          if (window.scrollY < 150) {
             if (navTitle.textContent !== defaultTitle) {
               navTitle.style.opacity = 0;
               setTimeout(() => {
                 navTitle.textContent = defaultTitle;
                 navTitle.style.opacity = 1;
               }, 200);
             }
          }
        });
      });
    </script>

</body>
</html>
